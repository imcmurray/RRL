{% extends "base.html" %}

{% block title %}Reports{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-6">
        <h1 class="h3">Reports</h1>
        <p class="text-muted">View and generate business reports</p>
    </div>
    <div class="col-md-6 text-end">
        <a href="{{ url_for('reports_generate') }}" class="btn btn-primary">
            <i class="bi bi-file-earmark-bar-graph me-1"></i>Generate Report
        </a>
    </div>
</div>

<!-- Report Types -->
<div class="row mb-4">
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card content-card h-100">
            <div class="card-body text-center">
                <i class="bi bi-lightbulb display-4 text-primary mb-3"></i>
                <h5>Ideas Pipeline</h5>
                <p class="text-muted small">Overview of idea submissions and their status</p>
                <a href="{{ url_for('reports_view', report_type='ideas') }}" class="btn btn-outline-primary btn-sm">View Report</a>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card content-card h-100">
            <div class="card-body text-center">
                <i class="bi bi-people display-4 text-success mb-3"></i>
                <h5>Tester Program</h5>
                <p class="text-muted small">Beta tester statistics and activity</p>
                <a href="{{ url_for('reports_view', report_type='testers') }}" class="btn btn-outline-success btn-sm">View Report</a>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card content-card h-100">
            <div class="card-body text-center">
                <i class="bi bi-kanban display-4 text-info mb-3"></i>
                <h5>Projects Status</h5>
                <p class="text-muted small">Active projects and progress updates</p>
                <a href="{{ url_for('reports_view', report_type='projects') }}" class="btn btn-outline-info btn-sm">View Report</a>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-3">
        <div class="card content-card h-100">
            <div class="card-body text-center">
                <i class="bi bi-currency-dollar display-4 text-warning mb-3"></i>
                <h5>Financial Summary</h5>
                <p class="text-muted small">Revenue, expenses, and profitability</p>
                <a href="{{ url_for('reports_view', report_type='finances') }}" class="btn btn-outline-warning btn-sm">View Report</a>
            </div>
        </div>
    </div>
</div>

<!-- Recent Reports -->
<div class="card content-card">
    <div class="card-header">
        <h5 class="mb-0"><i class="bi bi-clock-history me-2"></i>Recent Reports</h5>
    </div>
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead>
                    <tr>
                        <th>Report</th>
                        <th>Type</th>
                        <th>Generated</th>
                        <th>Generated By</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for report in reports %}
                    <tr>
                        <td>
                            <a href="{{ url_for('reports_detail', report_id=report.id) }}">{{ report.title }}</a>
                        </td>
                        <td><span class="badge bg-secondary">{{ report.type | title }}</span></td>
                        <td>{{ report.created_at | datetime }}</td>
                        <td>{{ report.generated_by or 'System' }}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <a href="{{ url_for('reports_detail', report_id=report.id) }}" class="btn btn-outline-primary btn-action">
                                    <i class="bi bi-eye"></i>
                                </a>
                                <button class="btn btn-outline-secondary btn-action" onclick="copyToClipboard('{{ report.content }}')">
                                    <i class="bi bi-clipboard"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" class="text-center py-4 text-muted">
                            No reports generated yet. Click "Generate Report" to create one.
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
